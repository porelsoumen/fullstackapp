{"version":3,"sources":["Filter.js","PersonForm.js","Person.js","personService.js","Persons.js","Notification.js","App.js","index.js"],"names":["Filter","props","value","onChange","PersonForm","onSubmit","addNewPerson","newName","handleNameChange","newNumber","handleNumberChange","type","Person","name","number","baseUrl","axios","get","then","response","data","newPerson","post","id","delete","console","log","Persons","matches","map","person","onClick","window","confirm","personService","Notification","message","className","state","App","useState","persons","setPersons","setNewName","setNewNumber","searchTerm","setSearchTerm","successMessage","setSuccessMessage","errorMessage","setErrorMessage","filter","toLowerCase","includes","useEffect","responseData","event","target","preventDefault","concat","setTimeout","catch","error","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.05acf29b.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = (props) => {\n    return (\n        <div>filter shown with<input value={props.value} onChange={props.onChange} /></div>\n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = (props) => {\n    return (\n        <div>\n            <form onSubmit={props.addNewPerson}>\n            <div>\n            name: <input value={props.newName} onChange={props.handleNameChange} />\n            </div>\n            <div>\n            numbers: <input value={props.newNumber} onChange={props.handleNumberChange} />\n            </div>\n            <div>\n            <button type=\"submit\">add</button>\n            </div>\n            </form>\n        </div>  \n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Person = (props) => {\n    return (\n        <>\n            {props.name} {props.number}\n        </>\n    )\n}\n\nexport default Person","import axios from 'axios'\n\nconst baseUrl = '/api'\nconst getAll = () => {\n    const request = axios.get(`${baseUrl}/persons`)\n    return request.then(response => response.data)\n}\n\nconst get = (id) => {\n    const request = axios.get(`${baseUrl}/person/${id}`)\n    return request.then(response => response.data)\n}\nconst create = (newPerson) => {\n    const request = axios.post(`${baseUrl}/persons`, newPerson)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/person/${id}`)\n    return request.then(response => console.log(response))\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/persons/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, remove, update } //Assign object to a variable before exporting as module default  import/no-anonymous-default-export","import React, { useState } from 'react'\nimport Person from './Person'\nimport personService from './personService'\n\nconst Persons = (props) => {\n\n    return (\n        props.matches.map(person => {\n            return (\n                <div>\n                <Person key={person.id} name={person.name} number={person.number} />\n                <button onClick={() => { window.confirm(`Delete ${person.name}`) \n                personService.remove(person.id)}}>delete</button>\n                </div>\n            )\n        })\n    )\n}\n\nexport default Persons","import React from 'react'\n\nconst Notification = (props) => {\n    if ( props.message === null)\n        return null\n    \n    return (\n        <div className={props.state}>\n            {props.message}\n        </div>\n    )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Search from './Filter'\nimport PersonForm from './PersonForm'\nimport Persons from './Persons'\nimport personService from './personService'\nimport Notification from './Notification'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ searchTerm, setSearchTerm ] = useState('')\n  const [ successMessage, setSuccessMessage ] = useState(null)\n  const [ errorMessage, setErrorMessage ] = useState(null)\n\n  const addNewPerson = (event) => {\n    event.preventDefault()\n    \n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n\n  //   var idx = persons.findIndex(person => person.name === newPerson.name)\n\n  //   if (idx !== -1) {\n  //     alert(`${newName} already added to the phonebook`)\n  //     if (newNumber !== persons[idx].number) {\n  //       const ans = window.confirm(`${newName} is already added to the phonebook, replace the old number with a new one?`)\n  //       if (ans) {\n  //         const response = personService.update(persons[idx].id, newPerson)\n  //         response.catch(error => {\n  //           setErrorMessage(`Information of ${newName} has already been removed from the server`)\n  //           setTimeout(() => setErrorMessage(null), 5000)\n  //         })\n  //     }\n      \n  //   }\n  // }else {\n      personService.create(newPerson)\n      .then(response => {\n        console.log(response)\n        setPersons(persons.concat(newPerson))\n        setSuccessMessage(`${newName} added successfully`)\n        setTimeout(() => setSuccessMessage(null), 5000)\n      })\n      .catch(error => {\n        console.log(error.response.data)\n        setErrorMessage(error.response.data.error)\n        setTimeout(() => setErrorMessage(null), 5000)\n      })\n    // }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchChange = (event) => {\n    console.log(event.target.value)\n    setSearchTerm(event.target.value)\n  }\n\n  const matches = persons.filter(person => {\n    return (\n      person.name.toLowerCase().includes(searchTerm)\n    )\n  })\n\n  useEffect(() => {\n    personService.getAll()\n    .then(responseData => {\n      setPersons(responseData)\n    })\n  }, [])\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      {successMessage ? <Notification message={successMessage} state={'success'}/> : ''}\n      {errorMessage ? <Notification message={errorMessage} state={'failure'}/> : ''}\n      <Search value={searchTerm} onChange={handleSearchChange}/>\n      <h3>add a new</h3>\n      <PersonForm addNewPerson={addNewPerson} newName={newName} newNumber={newNumber} handleNameChange={handleNameChange}\n      handleNumberChange={handleNumberChange}/>\n      <h3>Numbers</h3>\n      <Persons matches={matches} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css'\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}