{"version":3,"sources":["Filter.js","PersonForm.js","Person.js","personService.js","Persons.js","Notification.js","App.js","index.js"],"names":["Filter","props","value","onChange","PersonForm","onSubmit","addNewPerson","newName","handleNameChange","newNumber","handleNumberChange","type","Person","name","number","baseUrl","axios","get","then","response","data","newPerson","post","id","delete","console","log","newObject","put","Persons","matches","map","person","onClick","window","confirm","personService","Notification","message","className","state","App","useState","persons","setPersons","setNewName","setNewNumber","searchTerm","setSearchTerm","successMessage","setSuccessMessage","errorMessage","setErrorMessage","filter","toLowerCase","includes","useEffect","responseData","event","target","preventDefault","idx","findIndex","catch","error","setTimeout","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.96879b21.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = (props) => {\n    return (\n        <div>filter shown with<input value={props.value} onChange={props.onChange} /></div>\n    )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = (props) => {\n    return (\n        <div>\n            <form onSubmit={props.addNewPerson}>\n            <div>\n            name: <input value={props.newName} onChange={props.handleNameChange} />\n            </div>\n            <div>\n            numbers: <input value={props.newNumber} onChange={props.handleNumberChange} />\n            </div>\n            <div>\n            <button type=\"submit\">add</button>\n            </div>\n            </form>\n        </div>  \n    )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Person = (props) => {\n    return (\n        <>\n            {props.name} {props.number}\n        </>\n    )\n}\n\nexport default Person","import axios from 'axios'\n\nconst baseUrl = '/api'\nconst getAll = () => {\n    const request = axios.get(`${baseUrl}/persons`)\n    return request.then(response => response.data)\n}\n\nconst get = (id) => {\n    const request = axios.get(`${baseUrl}/person/${id}`)\n    return request.then(response => response.data)\n}\nconst create = (newPerson) => {\n    const request = axios.post(`${baseUrl}`, newPerson)\n    return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n    const request = axios.delete(`${baseUrl}/person/${id}`)\n    return request.then(response => console.log(response))\n}\n\nconst update = (id, newObject) => {\n    const request = axios.put(`${baseUrl}/person/${id}`, newObject)\n    return request.then(response => response.data)\n}\n\nexport default { getAll, create, remove, update } //Assign object to a variable before exporting as module default  import/no-anonymous-default-export","import React, { useState } from 'react'\nimport Person from './Person'\nimport personService from './personService'\n\nconst Persons = (props) => {\n\n    return (\n        props.matches.map(person => {\n            return (\n                <div>\n                <Person key={person.id} name={person.name} number={person.number} />\n                <button onClick={() => { window.confirm(`Delete ${person.name}`) \n                personService.remove(person.id)}}>delete</button>\n                </div>\n            )\n        })\n    )\n}\n\nexport default Persons","import React from 'react'\n\nconst Notification = (props) => {\n    if ( props.message === null)\n        return null\n    \n    return (\n        <div className={props.state}>\n            {props.message}\n        </div>\n    )\n}\n\nexport default Notification","import React, { useState, useEffect } from 'react'\nimport Search from './Filter'\nimport PersonForm from './PersonForm'\nimport Persons from './Persons'\nimport personService from './personService'\nimport Notification from './Notification'\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ searchTerm, setSearchTerm ] = useState('')\n  const [ successMessage, setSuccessMessage ] = useState(null)\n  const [ errorMessage, setErrorMessage ] = useState(null)\n\n  const addNewPerson = (event) => {\n    event.preventDefault()\n    \n    const newPerson = {\n      name: newName,\n      number: newNumber\n    }\n\n    var idx = persons.findIndex(person => person.name === newPerson.name)\n\n    if (idx !== -1) {\n      //alert(`${newName} already added to the phonebook`)\n      if (newNumber !== persons[idx].number) {\n        const ans = window.confirm(`${newName} is already added to the phonebook, replace the old number with a new one?`)\n        if (ans) {\n          const response = personService.update(persons[idx].id, newPerson)\n          response.catch(error => {\n            setErrorMessage(`Information of ${newName} has already been removed from the server`)\n            setTimeout(() => setErrorMessage(null), 5000)\n          })\n      }\n    }\n  }else {\n      personService.create(newPerson)\n      .then(response => {\n        console.log(response)\n        setPersons(persons.concat(newPerson))\n        setSuccessMessage(`${newName} added successfully`)\n        setTimeout(() => setSuccessMessage(null), 5000)\n      })\n    }\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const handleNameChange = (event) => {\n    console.log(event.target.value)\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    console.log(event.target.value)\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchChange = (event) => {\n    console.log(event.target.value)\n    setSearchTerm(event.target.value)\n  }\n\n  const matches = persons.filter(person => {\n    return (\n      person.name.toLowerCase().includes(searchTerm)\n    )\n  })\n\n  useEffect(() => {\n    personService.getAll()\n    .then(responseData => {\n      setPersons(responseData)\n    })\n  }, [])\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      {successMessage ? <Notification message={successMessage} state={'success'}/> : ''}\n      {errorMessage ? <Notification message={errorMessage} state={'failure'}/> : ''}\n      <Search value={searchTerm} onChange={handleSearchChange}/>\n      <h3>add a new</h3>\n      <PersonForm addNewPerson={addNewPerson} newName={newName} newNumber={newNumber} handleNameChange={handleNameChange}\n      handleNumberChange={handleNumberChange}/>\n      <h3>Numbers</h3>\n      <Persons matches={matches} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css'\nimport App from './App';\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}